# Aplikacja z Przepisami (Symfony Recipe App)

[EN] A modern web application built with Symfony and Tailwind CSS, allowing users to register, share recipes, and interact with other users' content through follow and favorite systems.

[PL] Nowoczesna aplikacja internetowa zbudowana na Symfony i Tailwind CSS, pozwalajca u偶ytkownikom na rejestracj, dzielenie si przepisami oraz interakcj z treciami innych u偶ytkownik贸w poprzez systemy obserwowania i ulubionych.
---

## Funkcjonalnoci (Features)

###  English

* **Authentication:** Full user registration (`/register`) and login (`/login`) system.
* **Recipe Management (Private Dashboard):**
    * Authenticated users have a private dashboard (`/recipe`) to manage their *own* recipes.
    * Full **CRUD** (Create, Read, Update, Delete) functionality for recipes.
    * **Image Uploads:** Users can upload images for their recipes (`FileUploader` service).
    * **Dynamic Collections:** Add/Remove recipe ingredients dynamically using JavaScript prototypes.
* **Account Management:**
    * Users can edit their own profile (`/account/edit`).
    * Profile features include updating `username` and uploading a profile picture (`imageFilename`).
* **Public Site:**
    * Homepage (`/`) displays all public recipes.
    * Public recipe view page (`/{id}`).
    * Public user profiles (`/profile/{id}`).
* **Social Features:**
    * **Follow System:** Users can follow and unfollow other users.
    * **Favorite System:** Users can add/remove any recipe (except their own) to a "favorites" list.
    * **Feeds:** Dedicated pages for logged-in users to view recipes from users they follow (`/profile`) and their own favorites list (`/favorites`).
* **Security:**
    * All private routes secured with `#[IsGranted]`.
    * Object-level security (e.g., "can only edit own recipe") is handled by a custom `RecipeVoter`.
    * All sensitive actions (`POST` requests like delete, follow, favorite) are protected by **CSRF tokens**.
* **Frontend:**
    * Styled with **Tailwind CSS** (using `TailwindBundle`).
    * Responsive design (dashboard, forms, grid layouts).
    * Reusable UI components built with **Twig Macros** (icons) and **Partials** (navigation, recipe grid).

---

### 叼 Polski

* **Uwierzytelnianie:** Peny system rejestracji (`/register`) i logowania (`/login`).
* **Zarzdzanie Przepisami (Prywatny Dashboard):**
    * Zalogowani u偶ytkownicy posiadaj prywatny dashboard (`/recipe`) do zarzdzania *wasnymi* przepisami.
    * Pena funkcjonalno **CRUD** (Tworzenie, Czytanie, Aktualizacja, Usuwanie) dla przepis贸w.
    * **Przesyanie Obraz贸w:** U偶ytkownicy mog przesya zdjcia do swoich przepis贸w (serwis `FileUploader`).
    * **Dynamiczne Kolekcje:** Dynamiczne dodawanie/usuwanie skadnik贸w przepisu przy u偶yciu prototyp贸w JavaScript.
* **Zarzdzanie Kontem:**
    * U偶ytkownicy mog edytowa wasny profil (`/account/edit`).
    * Funkcje profilu obejmuj aktualizacj `username` i przesyanie zdjcia profilowego (`imageFilename`).
* **Strona Publiczna:**
    * Strona g贸wna (`/`) wywietla wszystkie publiczne przepisy.
    * Publiczna strona przepisu (`//{id}`).
    * Publiczne profile u偶ytkownik贸w (`/profile/{id}`).
* **Funkcje Spoecznociowe:**
    * **System Obserwowania:** U偶ytkownicy mog obserwowa i przesta obserwowa innych.
    * **System Ulubionych:** U偶ytkownicy mog dodawa/usuwa dowolne przepisy (poza wasnymi) do listy "ulubionych".
    * **Strumienie:** Dedykowane strony dla zalogowanych u偶ytkownik贸w do przegldania przepis贸w obserwowanych os贸b (`/profile/`) oraz wasnej listy ulubionych (`/favorites`).
* **Bezpieczestwo:**
    * Wszystkie prywatne trasy s zabezpieczone przez `#[IsGranted]`.
    * Bezpieczestwo na poziomie obiekt贸w (np. "mo偶na edytowa tylko wasny przepis") jest obsugiwane przez `RecipeVoter`.
    * Wszystkie wra偶liwe akcje (偶dania `POST` jak usuwanie, obserwowanie, ulubione) s chronione **tokenami CSRF**.
* **Frontend:**
    * Stylowanie za pomoc **Tailwind CSS** (poprzez `TailwindBundle`).
    * Responsywny design (dashboard, formularze, siatki).
    * Komponenty UI wielokrotnego u偶ytku zbudowane przy u偶yciu **Makr Twig** (ikony) i **Plik贸w Czciowych** (nawigacja, siatka przepis贸w).

## Uruchomienie Projektu (Project Setup)

Projekt jest w peni skonteneryzowany przy u偶yciu Docker & Docker Compose.

1.  **Sklonuj repozytorium:**
    ```bash
    git clone https://github.com/KrzysztofKuklinski2000/symfony-recipe-app.git
    ```

2.  **Skonfiguruj plik `.env`:**
    * Przejd藕 do folderu `symfony/`.
    * Skopiuj `.env` do `.env.local`: `cp .env .env.local`
    * Edytuj `symfony/.env` i upewnij si, 偶e zmienna `DATABASE_URL` pasuje do danych z `docker-compose.yml` (np. `DATABASE_URL="mysql://root:password@mysql_db:3306/book_recpies?serverVersion=8.0&charset=utf8mb4"`).

3.  **Uruchom kontenery Docker:**
    ```bash
    docker-compose up -d --build
    ```

4.  **Zainstaluj zale偶noci i uruchom migracje:**
    * Wejd藕 do kontenera PHP: `docker exec -it symfony_app bash`
    * Bdc w kontenerze, przejd藕 do folderu aplikacji: `cd symfony`
    * Zainstaluj zale偶noci Composera: `composer install`
    * Uruchom migracje bazy danych: `php bin/console doctrine:migrations:migrate`

5.  **Uruchom kompilator Tailwind:**
    * W tym samym terminalu (wewntrz kontenera, w `symfony/`):
    ```bash
    php bin/console tailwind:build --watch
    ```

6.  **Gotowe!**
    * Twoja aplikacja jest dostpna pod adresem: [http://localhost:8080](http://localhost:8080)
    * phpMyAdmin jest dostpny pod adresem: [http://localhost:8081](http://localhost:8081)

## G贸wne Technologie (Tech Stack)

* **Backend:** Symfony 7
* **Frontend:** Tailwind CSS (przez `TailwindBundle`)
* **Baza Danych:** MySQL 8
* **rodowisko:** Docker / Docker Compose (Obraz PHP 8.2-Apache)
* **ORM:** Doctrine
* **Szablony:** Twig