# Aplikacja z Przepisami (Symfony Recipe App)

[EN] A modern web application built with Symfony, Tailwind CSS, and Hotwire (Turbo), allowing users to register, share recipes, manage shopping lists, and interact with other users' content.

[PL] Nowoczesna aplikacja internetowa zbudowana na Symfony, Tailwind CSS oraz Hotwire (Turbo), pozwalajca u偶ytkownikom na rejestracj, dzielenie si przepisami, zarzdzanie list zakup贸w oraz interakcj z treciami innych u偶ytkownik贸w.
---

## Funkcjonalnoci (Features)

###  English

* **Authentication & Security:**
    * Full user registration (`/register`) and login (`/login`) system.
    * **Email Verification:** Required for advanced features (like using the shopping list).
    * Object-level security (custom `RecipeVoter`, `ShoppingListVoter`).
    * All sensitive actions are protected by **CSRF tokens**.
* **Dynamic Search & Filtering (Hotwire):**
    * Live AJAX search and filtering (by category, difficulty, dietary tags) without page reloads, powered by **Turbo Frames** and **Stimulus** (`autosubmit`).
    * Seamless pagination ("Load more" button) using **Turbo Streams**.
* **Recipe Management (Private Dashboard):**
    * Private dashboard to manage *own* recipes with full **CRUD** functionality.
    * **Image Uploads:** Upload images for recipes (`FileUploader` service).
    * **Dynamic Collections:** Add/Remove recipe ingredients dynamically using JavaScript.
* **Nutrition API Integration:**
    * Automatic calorie calculation using an external Nutrition API via Doctrine Event Listeners (`prePersist`, `preUpdate`).
    * Smart unit normalization (e.g., converting kg/l to grams) for accurate NLP parsing by the API.
* **Shopping List:**
    * Users can add entire recipes or individual ingredients to a personalized shopping list.
    * Dynamic UI updates (e.g., success checkmarks) without page reloads using **Turbo Streams**.
    * Items are grouped by recipe for better readability.
* **Social Features:**
    * **Comments System:** Users can leave comments on recipes.
    * **Follow System:** Follow and unfollow other users.
    * **Favorite System:** Add any public recipe to a "favorites" list.
    * **Feeds:** View recipes from followed users (`/profile`) and your favorites list (`/favorites`).
* **Frontend:**
    * Styled with **Tailwind CSS** (`TailwindBundle`).
    * Responsive design (dashboard, forms, grid layouts).
    * Reusable UI components (Twig Macros for icons, Partials).

---

### 叼 Polski

* **Uwierzytelnianie i Bezpieczestwo:**
    * Peny system rejestracji (`/register`) i logowania (`/login`).
    * **Weryfikacja Email:** Wymagana do korzystania z zaawansowanych funkcji (np. lista zakup贸w).
    * Bezpieczestwo na poziomie obiekt贸w (np. `RecipeVoter`, `ShoppingListVoter`).
    * Ochrona przed atakami dziki **tokenom CSRF**.
* **Dynamiczne Wyszukiwanie i Filtrowanie (Hotwire):**
    * Wyszukiwanie i filtrowanie (kategorie, trudno, dieta) na 偶ywo w tle (AJAX) bez przeadowania strony, dziki **Turbo Frames**.
    * Pynna paginacja (przycisk "Zaaduj wicej") napdzana przez **Turbo Streams**.
* **Zarzdzanie Przepisami (Prywatny Dashboard):**
    * Prywatny panel do zarzdzania *wasnymi* przepisami (peny **CRUD**).
    * **Przesyanie Obraz贸w:** Dodawanie zdj do przepis贸w.
    * **Dynamiczne Kolekcje:** Dodawanie/usuwanie skadnik贸w w formularzu przy u偶yciu JavaScript.
* **Integracja z API Dietetycznym (Kalkulator Kalorii):**
    * Automatyczne wyliczanie kalorii przepisu przez zewntrzne API przy u偶yciu Doctrine Event Listeners (`prePersist`, `preUpdate`).
    * Inteligentna normalizacja jednostek (np. konwersja kg/l na gramy), aby zapewni precyzyjne dziaanie parsera NLP po stronie API.
* **Lista Zakup贸w:**
    * Dodawanie caych przepis贸w (z przelicznikiem porcji) lub pojedynczych skadnik贸w do prywatnej listy zakup贸w.
    * Dynamiczne aktualizacje interfejsu (np. zielone ptaszki po dodaniu) przy u偶yciu **Turbo Streams** bez przeadowywania strony.
    * Grupowanie skadnik贸w wedug przepis贸w.
* **Funkcje Spoecznociowe:**
    * **System Komentarzy:** Mo偶liwo komentowania przepis贸w innych u偶ytkownik贸w.
    * **System Obserwowania:** Obserwowanie i odobserwowywanie tw贸rc贸w.
    * **System Ulubionych:** Zapisywanie przepis贸w na wasnej licie ulubionych.
    * **Strumienie:** Dedykowane widoki z przepisami obserwowanych os贸b oraz ulubionymi.
* **Frontend:**
    * Stylowanie za pomoc **Tailwind CSS**.
    * Responsywny design i komponenty UI wielokrotnego u偶ytku (Makra Twig, pliki czciowe).

## Uruchomienie Projektu (Project Setup)

Projekt jest w peni skonteneryzowany przy u偶yciu Docker & Docker Compose.

1.  **Sklonuj repozytorium:**
    ```bash
    git clone [https://github.com/KrzysztofKuklinski2000/symfony-recipe-app.git](https://github.com/KrzysztofKuklinski2000/symfony-recipe-app.git)
    ```

2.  **Skonfiguruj pliki `.env`:**
    * Przejd藕 do folderu `symfony/`.
    * Skopiuj `.env` do `.env.local`: `cp .env .env.local`
    * Edytuj `symfony/.env.local` i ustaw wymagane zmienne rodowiskowe, m.in.:
        * `DATABASE_URL` (np. `mysql://root:password@mysql_db:3306/book_recpies?serverVersion=8.0&charset=utf8mb4`)
        * Zmienne dla poczty e-mail (Mailer).
        * Klucze API dla kalkulatora kalorii (jeli wymagane).

3.  **Uruchom kontenery Docker:**
    ```bash
    docker-compose up -d --build
    ```

4.  **Zainstaluj zale偶noci i uruchom migracje:**
    * Wejd藕 do kontenera PHP: `docker exec -it symfony_app bash`
    * Przejd藕 do folderu aplikacji: `cd symfony`
    * Zainstaluj pakiety PHP: `composer install`
    * Uruchom migracje bazy danych: `php bin/console doctrine:migrations:migrate`

5.  **Uruchom kompilator Tailwind:**
    * Wewntrz kontenera (w folderze `symfony/`):
    ```bash
    php bin/console tailwind:build --watch
    ```

6.  **Gotowe!**
    * Aplikacja: [http://localhost:8080](http://localhost:8080)
    * phpMyAdmin: [http://localhost:8081](http://localhost:8081)

## G贸wne Technologie (Tech Stack)

* **Backend:** Symfony 7, PHP 8.2
* **Frontend:** Tailwind CSS, Symfony UX (Hotwire Turbo)
* **Baza Danych:** MySQL 8, Doctrine ORM
* **Zewntrzne API:** Nutrition API (Calorie/NLP processing)
* **rodowisko:** Docker / Docker Compose