{% import "_macros/icons.html.twig" as icons %}
<div class="flex flex-col shadow-xl" id="recipes_{{recipe.id}}">
    <a href="{{ path('app_show', {'id': recipe.id}) }}">
        {% if recipe.imageFilename %}
        <img class="w-full h-64 object-cover" src="{{ asset('/uploads/recipes/'~ recipe.imageFilename) }}"
            alt="{{ recipe.title  }} obrazek">
        {% else %}
        <img class="w-full h-64 object-cover" src="{{ asset('/uploads/recipes/default.png') }}"
            alt="{{ recipe.title  }} obrazek">
        {% endif %}
    </a>


    <div class="p-2 bg-[#222831] text-white">
        <div class="flex justify-between">
            <div class="flex justify-between items-center gap-2">
                <h3 class="font-bold text-lg">{{ recipe.title|title }}</h3>
                <div class="flex gap-2">
                    {% if is_granted('RECIPE_EDIT', recipe) %}
                        <a href="{{ path('app_recipe_edit', {'id': recipe.id}) }}"
                            class=" bg-indigo-50 p-1 rounded shadow hover:bg-indigo-100 transition flex flex-col
                            justify-center items-center text-indigo-600 font-semibold">
                            {{ icons.edit(4) }}</a>
                    {% endif %}
                </div>
            </div>
            <div id="favorite-btn-{{ recipe.id }}">
                {% if is_granted('IS_EMAIL_VERIFIED') %}
                {% include "favorite/_btn.html.twig" with {
                    "recipe": recipe,
                    "is_favorite_page": is_favorite_page ?? false
                }
                %}
                {% endif %}
            </div>
        </div>
        <p class="text-sm">Czas przygotowania: {{ recipe.preparationTime }} godzin</p>
        <p class="flex gap-2 items-center">
            <a class="flex gap-2 items-center hover:font-bold underline"
                href="{{ path('app_profile_show', {'id': recipe.author.id}) }}">
                {{icons.user()}}
                {% include "_partials/_username.html.twig" with {
                    "user": recipe.author
                } %}
            </a>
        </p>

    </div>
</div>
